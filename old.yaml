mixed-port: 8888
allow-lan: true
bind-address: "*"
mode: rule
log-level: info
ipv6: true
external-controller: 0.0.0.0:9090

dns:

  enable: true
  listen: 0.0.0.0:7874
  ipv6: true
  default-nameserver:
  - 223.5.5.5
  - 114.114.114.114
  enhanced-mode: fake-ip
  fake-ip-filter:
  - "+.lan"
  - "+.stun.*.*"
  - "+.stun.*.*.*"
  - "+.stun.*.*.*.*"
  - "+.stun.*.*.*.*.*"
  - "*.n.n.srv.nintendo.net"
  - "+.stun.playstation.net"
  - "xbox.*.*.microsoft.com"
  - "*.*.xboxlive.com"
  - "*.msftncsi.com"
  - "*.msftconnecttest.com"

p:
  type: http 
  health-check: &1
    enable: true
    lazy: true
    url: http://connectivitycheck.gstatic.com/generate_204
    interval: 10

proxies:

k:
  type: select
  use: &2
  - Sub
 
proxy-providers:

  Sub:
    type: http
    interval: 43200
    health-check: *1
    url: è¿™é‡Œå¡«æœºåœºè®¢é˜…
    path: "./proxy_providers/Sub.yaml"
    
  Game:
    type: http
    interval: 43200
    health-check: *1
    url: è¿™é‡Œå¡«æ¸¸æˆèŠ‚ç‚¹çš„è®¢é˜…ï¼ˆå¦‚æœæ²¡æœ‰å°±å¡«å’Œä¸Šé¢ä¸€æ ·çš„
    path: "./proxy_providers/Game.yaml"
    
proxy-groups:

- name: ğŸŒFinal
  type: select
  proxies: 
  - âš¡AUTO
  - ğŸ®Game
  - ğŸ‡­ğŸ‡°HK
  - ğŸ‡¯ğŸ‡µJP
  - ğŸ‡¸ğŸ‡¬SG
  - ğŸ‡ºğŸ‡¸US
  
- name: ğŸ®Game
  type: select
  use: 
  - Game

- name: Google
  type: select
  proxies: 
  - ğŸ‡­ğŸ‡°HK
  - ğŸ‡¯ğŸ‡µJP
  - ğŸ‡¸ğŸ‡¬SG
  - ğŸ‡ºğŸ‡¸US

- name: Spotify
  type: select
  proxies: 
  - ğŸ‡­ğŸ‡°HK
  - ğŸ‡¯ğŸ‡µJP
  - ğŸ‡¸ğŸ‡¬SG
  - ğŸ‡ºğŸ‡¸US
  
- name: YouTube
  type: select
  proxies: 
  - ğŸ‡­ğŸ‡°HK
  - ğŸ‡¯ğŸ‡µJP
  - ğŸ‡¸ğŸ‡¬SG
  - ğŸ‡ºğŸ‡¸US
  
- name: Twitter
  type: select
  proxies: 
  - ğŸ‡­ğŸ‡°HK
  - ğŸ‡¯ğŸ‡µJP
  - ğŸ‡¸ğŸ‡¬SG
  - ğŸ‡ºğŸ‡¸US
  
- name: GameDownloads
  type: select
  proxies: 
  - DIRECT
  - âš¡AUTO
  - ğŸ‡­ğŸ‡°HK
  - ğŸ‡¯ğŸ‡µJP
  - ğŸ‡¸ğŸ‡¬SG
  - ğŸ‡ºğŸ‡¸US

  
- name: âš¡AUTO
  type: url-test
  interval: 3600
  lazy: true
  use: *2
  filter: "^(?=.*(.))(?!.*((?i)ç¾¤|é‚€è¯·|è¿”åˆ©|å¾ªç¯|å®˜ç½‘|å®¢æœ|ç½‘ç«™|ç½‘å€|è·å–|è®¢é˜…|æµé‡|åˆ°æœŸ|æœºåœº|ä¸‹æ¬¡|ç‰ˆæœ¬|å®˜å€|å¤‡ç”¨|è¿‡æœŸ|å·²ç”¨|è”ç³»|é‚®ç®±|å·¥å•|è´©å–|é€šçŸ¥|å€’å–|é˜²æ­¢|å›½å†…|åœ°å€|é¢‘é“|æ— æ³•|è¯´æ˜|ä½¿ç”¨|æç¤º|ç‰¹åˆ«|è®¿é—®|æ”¯æŒ|(\b(USE|USED|TOTAL|EXPIRE|EMAIL|Panel)\b))).*$"
  
- name: ğŸ‡­ğŸ‡°HK
  type: url-test
  interval: 3600
  lazy: true
  use: *2
  filter: "^(?=.*((?i)ğŸ‡­ğŸ‡°|é¦™æ¸¯|(\b(HK|Hong)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\\b(GAME)\\b))).*$"

- name: ğŸ‡ºğŸ‡¸US
  type: url-test
  interval: 3600
  lazy: true
  use: *2
  filter: "^(?=.*((?i)ğŸ‡ºğŸ‡¸|ç¾å›½|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|(\b(US|United States)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\\b(GAME)\\b))).*$"

- name: ğŸ‡¯ğŸ‡µJP
  type: url-test
  interval: 3600
  lazy: true
  use: *2
  filter: "^(?=.*((?i)ğŸ‡¯ğŸ‡µ|æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|(\b(JP|Japan)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\\b(GAME)\\b))).*$"

- name: ğŸ‡¸ğŸ‡¬SG
  type: url-test
  interval: 3600
  lazy: true
  use: *2
  filter: "^(?=.*((?i)ğŸ‡¸ğŸ‡¬|æ–°åŠ å¡|ç‹®|(\b(SG|Singapore)\b)))(?!.*((?i)å›å›½|æ ¡å›­|æ¸¸æˆ|ğŸ®|(\\b(GAME)\\b))).*$"
   

rule-providers:

  Lan:
    type: http
    behavior: classical
    interval: 43200
    url: https://raw.githubusercontent.com/dler-io/Rules/main/Clash/Provider/LAN.yaml
    path: "./rule_provider/Lan.yaml"

  Anti-AD:
    type: http
    behavior: domain
    interval: 43200
    url: https://anti-ad.net/clash.yaml
    path: "./rule_provider/AD.yaml"
    
  ApplePush:
    type: http
    behavior: classical
    interval: 43200
    url: https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/ApplePushNotificationService.yaml
    path: "./rule_provider/ApplePush.yaml"

  Spotify:
    type: http
    behavior: classical
    interval: 43200
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml
    path: "./rule_provider/Spotify.yaml"

  Twitter:
    type: http
    behavior: classical
    interval: 43200
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Twitter/Twitter.yaml
    path: "./rule_provider/Twitter.yaml"
    
  Google:
    type: http
    behavior: classical
    interval: 43200
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml
    path: "./rule_provider/Google.yaml"

  YouTube:
    type: http
    behavior: classical
    interval: 43200
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/YouTube/YouTube.yaml
    path: "./rule_provider/YouTube.yaml"
 
  CGD:
    type: http
    behavior: classical
    interval: 43200
    url: https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Tool/Clash/Rule/ChinaDownloadCDN.yaml
    path: "./rule_provider/CGD.yaml"
    
  GD:
    type: http
    behavior: classical
    interval: 43200
    url: https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Game/GameDownload/GameDownload.yaml
    path: "./rule_provider/GD.yaml"
    
  Game:
    type: http
    behavior: classical
    interval: 43200
    url: https://raw.githubusercontent.com/0xqfz0/rules/main/GameRules.yaml
    path: "./rule_provider/Game.yaml"

rules:
- RULE-SET,Lan,DIRECT
- RULE-SET,CGD,DIRECT
- RULE-SET,GD,GameDownloads
- RULE-SET,Game,ğŸ®Game
- RULE-SET,ApplePush,DIRECT
- RULE-SET,Anti-AD,REJECT
- RULE-SET,Google,Google
- RULE-SET,Spotify,Spotify
- RULE-SET,YouTube,YouTube
- RULE-SET,Twitter,Twitter
- GEOIP,CN,DIRECT
- MATCH,ğŸŒFinal
